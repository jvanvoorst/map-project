<!DOCTYPE html>
<html ng-app="mapApp">

<head>
	<title>Map Project</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.0/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.0/angular-animate.min.js"></script>
    <script type="text/javascript"src="angular-simple-logger.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.4/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="angularjs-geolocation.min.js"></script>
    <script src="leaflet.extra-markers.js"></script>
    <script src="angular-leaflet-directive.min.js"></script>
	<script type="text/javascript" src="markers.js"></script> 
    <script type="text/javascript" src="main.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
    <link rel="stylesheet" href="leaflet.extra-markers.css">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body ng-controller="mapController">

	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<!-- This is the map being displayed -->
				<leaflet defaults="defaults" center="center" markers="markers" layers="layers" width="100%" height="480px"></leaflet>
			</div>
		</div>
		<div class="row">
			
			<!-- Buttons for changing map center location -->
			<div class="col-md-3 pull-right">
				<button ng-click="centerCurrent()" class="btn btn-sm btn-default">Current Location</button>
				<button ng-click="changeCenter(London)" class="btn btn-sm btn-default pull-right">London</button>
				<button ng-click="changeCenter(Boulder)" class="btn btn-sm btn-default pull-right">Boulder</button>
			</div>
		</div>

		<!-- Search markers comments -->
		<div class="row">
			<div>
				<label>Search Names: <input ng-model="searchText"</label>
			</div>
		</div>

		<!-- Display of coords and message for user created markers as well as delete, edit center buttons for each -->
		<div class="row bg-warning" ng-repeat="marker in markers | filter : {layer : 'user'} | filter : searchText">
			<div class="col-md-6">
				<ul>
					<li><h4>Name:  {{marker.message}}</h4></li>
					<ul>
						<li>Latitude: {{marker.lat | number : 4}}</li>
						<li>Longitude: {{marker.lng | number : 4}}</li>
					</ul>
				</ul>
			</div>
			<div class="col-md-1">
				<button class="btn btn-default btn-width btn-sm" ng-click="centerOnMarker(marker)">Center</button>
				<button class="btn btn-default btn-width btn-sm" ng-click="editMarker(marker)">Edit</button>
				<button class="btn btn-default btn-width btn-sm" ng-click="deleteMarker(marker)">Delete</button>
			</div>
		</div>

		<!-- 14ers markers -->
		<div class="row bg-info" ng-repeat="marker in markers | filter : {layer : 'fourteener'} | filter : searchText">
			<div class="col-md-6">
				<ul>
					<li><h4>Name:  {{marker.message}}</h4></li>
					<ul>
						<li>Latitude: {{marker.lat | number : 3}}</li>
						<li>Longitude: {{marker.lng | number : 3}}</li>
					</ul>
				</ul>
			</div>
			<div class="col-md-1">
				<button class="btn btn-default btn-width btn-sm" ng-click="centerOnMarker(marker)">Center</button>
			</div>	
		</div>


	</div>
	
	<!-- Modal display container -->
	<div>
	    <script type="text/ng-template" id="ModalContent.html">
	        <div class="modal-header">
	            <h3 class="modal-title">Edit Name</h3>
	        </div>
	        <form class="modal-body" ng-submit="ok()">
	        	<input type="text" class="form-control" placeholder="name" ng-model="comment" autofocus>
	        </form>
	        <div class="modal-footer">
	            <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
	            <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
	        </div>
	    </script>
	</div>

	<script type="text/javascript" src="main.js"></script>
</body>
</html>	